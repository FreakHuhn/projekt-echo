ğŸ“¦ Refactoring-Plan fÃ¼r quiz.py und invite.py â€“ Project Echo

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ§  Warum refaktorisieren wir nochmal?
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Klarheit & Struktur:
   - Die aktuelle Trennung in quiz.py + quiz_helpers.py (und analog bei invite) erschwert das VerstÃ¤ndnis.
   - Alle quiz- und invite-bezogenen Funktionen sollen in jeweils EINEM Modul sein.

2. Bessere Navigation:
   - GPT-bezogene Funktionen sollen ausschlieÃŸlich in gpt.py liegen â†’ zentrales Management der Prompts.

3. Wartbarkeit:
   - Ã„nderungen an GPT-Prompts kommen oft vor. Diese Ã„nderungen sollen nur in gpt.py passieren.

4. Testbarkeit:
   - Einfache Funktionen wie parse_quizantwort oder bewerte_antwort sollen im gleichen Modul wie der Handler liegen.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Zielstruktur
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

features/
â”œâ”€â”€ quiz.py     â†’ enthÃ¤lt ALLE Quizfunktionen (inkl. parsing, Bewertung, Eastereggs)
â”œâ”€â”€ invite.py   â†’ enthÃ¤lt ALLE Invitefunktionen (inkl. Parsing & Voice-DMs)
â”œâ”€â”€ gpt.py      â†’ enthÃ¤lt ALLE GPT-Prompts & API-Kommunikation

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ›  Schritte fÃ¼r quiz.py
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. ğŸ” Funktion generiere_quizfrage() aus quiz_helpers.py nach gpt.py verschieben.
   - Umbenennen in: generate_quiz_question()
   - memory=None setzen, da aktuell nicht benÃ¶tigt
   - Nur Prompt & GPT-Aufruf â€“ kein Parsing
   - RÃ¼ckgabe: GPT-Rohantwort als Text

2. ğŸ” Funktion parse_quizantwort() in quiz.py Ã¼bernehmen.
   - Bleibt dort, da es zur Spiellogik gehÃ¶rt.

3. ğŸ” versuche_warhammer_easteregg() und bewerte_antwort() nach quiz.py verschieben.
   - Wird ausschlieÃŸlich intern verwendet.
   - ErmÃ¶glicht klare Testcases und Modultests.

4. âŒ features/quiz_helpers.py lÃ¶schen, sobald alles Ã¼bernommen ist.

5. ğŸ§ª Imports in test_logic.py und ggf. logic.py prÃ¼fen und anpassen.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ›  Schritte fÃ¼r invite.py
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. ğŸ” parse_invite_command() und send_voice_invites() aus invite_helpers.py nach invite.py verschieben.

2. âœ… handle_invite_command() bleibt erhalten.

3. âŒ features/invite_helpers.py lÃ¶schen.

4. ğŸ§ª echo_bot.py anpassen:
   - `from features.invite_helpers import send_voice_invites` â†’ ersetzen durch `from features.invite import send_voice_invites`

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“Œ Hinweise
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

- Imports sauber gruppieren und Ã¼berflÃ¼ssige lÃ¶schen
- Nach jedem Schritt Projekt einmal testen (manuell oder via test_logic.py)